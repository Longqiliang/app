function isEmptyObject(t){for(var n in t)return!1;return!0}function EnEight(t){var n,t=t.toString(),e=new Array;for(n=0;n<t.length;n++)e+="\\"+t.charCodeAt(n).toString(8);return t=e}var URL="http://fttsoft.net:9201/";!function(t,n){n.login=function(e,o){return o=o||t.noop,e=e||{},e.company_code=e.company_code||"",e.user_name=e.user_name||"",e.password=e.password||"",""==e.company_code?o("企业代码不存在"):""==e.user_name?o("账号不符合规则！"):""==e.password?o("密码格式错误！"):void(login&&t.ajax({type:"POST",url:URL+"ftt_cloud_api/api/UserLogin",data:e,dataType:"json",timeout:6e3,headers:{"Content-Type":"application/json"},success:function(t){return 1==t.success?(login=!1,t.password=EnEight(e.password),n.createState(t,o)):(login=!0,o("登录失败，请输入正确的信息！"))},error:function(t,n,e){o("网络出现故障，请稍后再试！")}}))},n.reg=function(n,e){return e=e||t.noop,n=loginInfo||{},n.user=loginInfo.user||"",n.pwd=loginInfo.pwd||"",n.user?e("账号不符合规则！"):n.pwd?e("密码格式错误！"):void 0},n.createState=function(t,e){var o=n.getState();o.name=t.display_name,o.userId=t.user_id,o.token=t.access_token,o.loginName=t.login_name,o.companyName=t.company_name,o.companyLogo=t.company_logo,o.companyCode=t.company_code,o.host=t.host,o.psd=t.password,n.setState(o);var a=n.getSettings();return a.notification=!0,a.mark=!0,a.voice=!1,a.vibrate=!1,n.setSettings(a),e()},n.getState=function(){var t=localStorage.getItem("$state")||"{}";return JSON.parse(t)},n.setState=function(t){t=t||{},localStorage.setItem("$state",JSON.stringify(t))},n.getSettings=function(){var t=localStorage.getItem("$setting")||"{}";return JSON.parse(t)},n.setSettings=function(t){t=t||{},localStorage.setItem("$setting",JSON.stringify(t))},n.openVW=function(n,e,o){t.openWindow({id:n||e,url:e,extras:o,show:{aniShow:"pop-in",duration:300},waiting:{autoShow:!1},crateNew:!1})},n.quitApp=function(){t.oldBack=mui.back;var n=0;t.back=function(t){return n++,n>1?plus.runtime.quit():plus.nativeUI.toast("再按一次退出"+AppName),setTimeout(function(){n=0},1e3),!1}}}(mui,window.app={});